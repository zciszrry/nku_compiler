# SysY Compiler Project

## 项目简介

本项目是基于SysY语言的编译器实现，完成了词法分析、语法分析、类型检查、中间代码生成以及目标代码生成等功能。该项目是南开大学计算机学院编译原理课程的大作业，由张丛和刘国民共同完成。

## 项目结构

- **Lexer:** 词法分析模块，负责将输入的源代码分解为记号（token）。
- **Parser:** 语法分析模块，负责根据上下文无关文法将记号序列解析为语法树。
- **Semantic Analysis:** 类型检查模块，负责检查语义错误，如变量重定义和类型不匹配。
- **IR Generation:** 中间代码生成模块，负责将语法树转换为中间表示（IR）。
- **Code Generation:** 目标代码生成模块，负责将中间表示转换为目标机器代码。

## 使用方法

### 环境要求

- 操作系统：Ubuntu 22.04.2 (Linux 64位)
- 编译器：gcc, llvm
- 虚拟机：VMware Workstation Pro

### 编译与运行

1. 克隆仓库：
    ```bash
    git clone https://github.com/your_username/sysy-compiler.git
    cd sysy-compiler
    ```

2. 编译项目：
    ```bash
    make
    ```

3. 运行编译器：
    ```bash
    ./compiler your_source_file.sy
    ```

## 功能特性

### 词法分析

利用上下文无关文法（CFG）描述SysY语言的词法特性，包括终结符（标识符、整数、浮点数、运算符、关键字等）和非终结符。词法分析生成的符号表记录了标识符的名称、类型和作用域等信息，便于后续的语法分析和语义检查。

### 语法分析

语法分析模块基于CFG构建语法树，支持SysY语言的各种语法结构，包括变量声明、函数定义、表达式和控制语句等。

### 类型检查

类型检查模块确保程序中的类型使用正确，包括变量重定义检查、类型转换和函数重载等功能。

### 中间代码生成

中间代码生成模块将语法树转换为中间表示（IR），包括控制流翻译和表达式翻译。

### 目标代码生成

目标代码生成模块将中间表示转换为目标机器代码，包括寄存器分配和指令生成。

## 文件结构

- `lexer/`: 词法分析相关代码
- `parser/`: 语法分析相关代码
- `semantic/`: 类型检查相关代码
- `ir/`: 中间代码生成相关代码
- `codegen/`: 目标代码生成相关代码
- `include/`: 头文件
- `src/`: 源代码
- `tests/`: 测试用例

## 贡献者

- 张丛
- 刘国民

## 参考资料

- 编译原理课程讲义
- [LLVM官方文档](https://llvm.org/docs/)

## 许可证

本项目基于MIT许可证开源，详情请参见LICENSE文件。


